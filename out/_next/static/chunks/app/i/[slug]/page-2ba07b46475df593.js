(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[442],{8695:function(e,t,n){Promise.resolve().then(n.bind(n,4178))},7461:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var s=n(4090),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,t)=>{let n=(0,s.forwardRef)((n,c)=>{let{color:l="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:u,className:d="",children:m,...h}=n;return(0,s.createElement)("svg",{ref:c,...r,width:o,height:o,stroke:l,strokeWidth:u?24*Number(i)/Number(o):i,className:["lucide","lucide-".concat(a(e)),d].join(" "),...h},[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(m)?m:[m]])});return n.displayName="".concat(e),n}},7307:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9259:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6490:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5211:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2457:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2220:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]])},1361:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},2560:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]])},2235:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4178:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s=n(3827),r=n(4090),a=n(9001),c=n(2430),l=n(8222),o=n(8009);function i(e){let{invitation:t,guestName:n,guestSlug:i,eventSlug:u}=e,[d,m]=(0,r.useState)(!0),h=t.theme,{styles:f,fontLinks:x}=(0,a.G)(h),y=t.blocks.some(e=>"intro"===e.type&&e.enabled);(0,r.useEffect)(()=>{y||m(!1)},[y]);let p=async(e,t,n)=>{if(!u||!i){o.default.error("Невозможно отправить ответ");return}try{await l.h.submitRSVP(u,i,{status:e,guestCount:t,wishes:n}),o.default.success("Ваш ответ записан!")}catch(e){throw o.default.error("Ошибка при отправке ответа"),e}},g=t.blocks.filter(e=>e.enabled&&"intro"!==e.type);return d&&y?(0,s.jsxs)(s.Fragment,{children:[x.map(e=>(0,s.jsx)("link",{rel:"stylesheet",href:e},e)),(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-8",style:{...f,backgroundColor:h.colors.primary},children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs tracking-[0.3em] uppercase mb-6 opacity-60",style:{color:h.colors.textMuted},children:"Приглашение"}),n&&(0,s.jsxs)("h1",{className:"text-2xl md:text-3xl mb-6",style:{fontFamily:h.fonts.heading,fontWeight:h.fonts.headingWeight,color:h.colors.text},children:["Құрметті ",n,"!"]}),(0,s.jsx)("div",{className:"w-32 h-40 mx-auto mb-8 relative",style:{perspective:"1000px"},children:(0,s.jsxs)("div",{className:"w-full h-full rounded-lg relative overflow-hidden",style:{backgroundColor:h.colors.secondary,border:"2px solid ".concat(h.colors.accent)},children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1/2",style:{background:"linear-gradient(135deg, ".concat(h.colors.accent,"40 50%, transparent 50%)")}}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:h.colors.accent},children:(0,s.jsx)("span",{className:"text-white text-sm",children:"♥"})})]})}),(0,s.jsx)("button",{onClick:()=>m(!1),className:"px-8 py-3 rounded-full font-medium transition-transform hover:scale-105",style:{backgroundColor:h.colors.accent,color:h.colors.secondary},children:"Открыть приглашение"})]})})]}):(0,s.jsxs)(s.Fragment,{children:[x.map(e=>(0,s.jsx)("link",{rel:"stylesheet",href:e},e)),(0,s.jsx)("div",{className:"min-h-screen",style:{...f,backgroundColor:h.colors.primary,fontFamily:h.fonts.body},children:g.map((e,r)=>(0,s.jsx)(c.H,{block:e,data:t.data,theme:h,guestName:n,onRSVP:i?p:void 0},"".concat(e.type,"-").concat(r)))})]})}function u(){let[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(!0),[c,o]=(0,r.useState)(null),[u,d]=(0,r.useState)(null),[m,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{{let e=window.location.pathname.split("/").filter(Boolean);"i"===e[0]&&e[1]&&(d(e[1]),e[2]&&h(e[2]))}},[]),(0,r.useEffect)(()=>{u&&(m?x(u,m):f(u))},[u,m]);let f=async e=>{try{let n=await l.h.getPublicInvitation(e);t(n);let s=n.data.names.person2?"".concat(n.data.names.person1," & ").concat(n.data.names.person2):n.data.names.person1;document.title="Приглашение от ".concat(s," | Shaq")}catch(e){o("Приглашение не найдено")}finally{a(!1)}},x=async(e,n)=>{try{let s=await l.h.getPublicInvitationWithGuest(e,n);t(s);let r=s.data.names.person2?"".concat(s.data.names.person1," & ").concat(s.data.names.person2):s.data.names.person1;document.title="Приглашение для ".concat(s.guestName," от ").concat(r," | Shaq")}catch(e){o("Приглашение не найдено")}finally{a(!1)}};return n?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted",children:"Загрузка приглашения..."})]})}):c||!e?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-4xl font-serif font-bold text-foreground mb-4",children:"404"}),(0,s.jsx)("p",{className:"text-xl text-muted mb-8",children:c||"Приглашение не найдено"}),(0,s.jsx)("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-accent text-white rounded-lg font-medium hover:bg-accent-light transition-colors",children:"Вернуться на главную"})]})}):"guestName"in e?(0,s.jsx)(i,{invitation:e,guestName:e.guestName,guestSlug:m||void 0,eventSlug:u||void 0}):(0,s.jsx)(i,{invitation:e})}}},function(e){e.O(0,[150,9,144,971,69,744],function(){return e(e.s=8695)}),_N_E=e.O()}]);